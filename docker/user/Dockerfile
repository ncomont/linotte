FROM alpine:latest

ENV LINOTTE_USER_SERVICE_ENDPOINT=":50054"
ENV LINOTTE_USER_DATABASE_HOST="localhost"
ENV LINOTTE_USER_DATABASE_USER="linotte"
ENV LINOTTE_USER_DATABASE_PASSWORD="l1n0tt3passwd"
ENV LINOTTE_USER_DATABASE_NAME="linotte"
ENV LINOTTE_USER_DATABASE_PORT=3306
ENV LINOTTE_USER_DATABASE_VERBOSE_MODE="false"
ENV LINOTTE_USER_PUBLIC_KEY_PATH="./app.rsa.pub"
ENV LINOTTE_USER_PRIVATE_KEY_PATH="./app.rsa"

EXPOSE 50054

ADD user /app/
ADD app.rsa /app/
ADD app.rsa.pub /app/

WORKDIR /app

CMD ["/app/user"]
